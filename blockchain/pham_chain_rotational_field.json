[
  {
    "index": 0,
    "timestamp": 1771842482.207544,
    "data": {
      "name": "GENESIS"
    },
    "hash": "0"
  },
  {
    "index": 1,
    "timestamp": 1771842482.207548,
    "data": {
      "title": "rotational_field.py",
      "author": "GNJz",
      "timestamp": "2026-02-23 21:28:02",
      "hash": "72e328e5c289b00aebec1ef9a991e43790cee8a24d6d7b4984fcbc3a4eefea6d",
      "cid": "QmRgPCMWuXt1F9TmYQoFJ5Mbu43WSCgVGJCziViiAcc8GL",
      "description": "Phase A: 코리올리/pole 회전 필드",
      "score": 0.9996,
      "label": "A_HIGH",
      "signals": {
        "byte": 1.0,
        "text": 1.0,
        "ast": 0.9988545246277205,
        "exec": 0.0
      },
      "exec_output": "",
      "raw_bytes": "222222526f746174696f6e616c204669656c642047656e657261746f720a0a506861736520413a20ec9c84ec838120ec839dec84b12028526f746174696f6e616c204669656c64290a0aed9a8ceca08420ec84b1ebb684ec9d8420ec839dec84b1ed9598ec97ac20ec889ced999820ec9ab4eb8f9928ec9e90eca08429ec9d8420eab080eb8aa5ed9598eab28c20eba78ceb93adeb8b88eb8ba42e0a0aec8898ec8b9d3a0a2d20ecb59cec868c20ed9895ed839c2028ecbd94eba6acec98aceba6aced98952c20ec9790eb8488eca78020ebb3b4eca1b4293a0a202020205228782c207629203d20cf89204a20760a202020207620c2b72052203d207620c2b72028cf894a7629203d20cf892876274a7629203d20302020284a20ebb098eb8c80ecb9ad20e2869220ed95adec8381203020e2869220ec9790eb8488eca78020ebb3b4eca1b4290a0a2d20506f6c6520eab8b0ebb09820ed9895ed839c2028ec9c84ecb99820ec9d98eca1b42c20ec9790eb8488eca78020ebb984ebb3b4eca1b4293a0a2020202052287829203d20cf89204a202878202d20785f706f6c65290a202020207620c2b7205228782920e289a0203020ec9dbcebb098eca08120e2869220ec9790eb8488eca78020ebb984ebb3b4eca1b40a0a2d20436f6d62696e6564206669656c643a2061203d202de2888756287829202b20520a0aec999c20522878293dcf894a78eab08020ec9584eb8b8c20522876293dcf894a7620ec9db8eab0803a0a20202020ec9790eb8488eca78020ebb3b4eca1b420eca1b0eab1b43a20ed9e98ec9db420ec868deb8f84ec979020ec8898eca781202876c2b7463d30292e0a20202020522878293dcf894a7820e286922078c2b7522878293d302028ec9c84ecb998ec979020eca781eab5902920ec9db4eca780eba78c2076c2b752287829e289a0302028ec868deb8f84ec979020eca781eab59020ec9584eb8b98292e0a20202020522876293dcf894a7620e286922076c2b7522876293d302028ec868deb8f84ec979020eca781eab5902c20ed95adec83812920e2869220ec9790eb8488eca78020ebb3b4eca1b420ebb3b4ec9ea52e0a0a417574686f723a20474e4a7a202851717561727473290a56657273696f6e3a20302e322e300a2222220a0a696d706f7274206e756d7079206173206e700a66726f6d20747970696e6720696d706f72742043616c6c61626c652c204f7074696f6e616c2c20556e696f6e0a66726f6d2064617461636c617373657320696d706f72742064617461636c6173730a0a0a646566206372656174655f736b65775f73796d6d65747269635f6d6174726978286e3a20696e742c20617869733a206c697374203d205b302c20315d29202d3e206e702e6e6461727261793a0a20202020222222ebb098eb8c80ecb9ad28736b65772d73796d6d65747269632920ed9689eba0ac20ec839dec84b10a0a20202020ec8898ec8b9d3a0a20202020202020204a203d205b3020202d315d2020283244290a2020202020202020202020205b31202020305d0a0a202020206eecb0a8ec9b90ec9790ec849ceb8a9420eca780eca095eb909c20ecb695ec979020eb8c80ed95b420ebb098eb8c80ecb9ad20ed9689eba0ac20ec839dec84b10a0a20202020417267733a0a20202020202020206e3a20ecb0a8ec9b900a2020202020202020617869733a20ed9a8ceca08420ecb6952028eab8b0ebb3b8eab0923a205b302c20315d203d20787920ed8f89eba9b4290a0a2020202052657475726e733a0a2020202020202020ebb098eb8c80ecb9ad20ed9689eba0ac204a20286ec3976e290a202020202222220a202020204a203d206e702e7a65726f7328286e2c206e29290a202020206966206c656e286178697329203d3d20323a0a2020202020202020692c206a203d20617869735b305d2c20617869735b315d0a20202020202020204a5b692c206a5d203d202d310a20202020202020204a5b6a2c20695d203d20310a2020202072657475726e204a0a0a0a4064617461636c6173730a636c61737320506f6c653a0a20202020222222ed9a8ceca084ec9d9820eca491ec8baceca0902028ed8fb4290a0a20202020417474726962757465733a0a2020202020202020706f736974696f6e3a20ed8fb420ec9c84ecb9982028ed9a8ceca08420eca491ec8bac290a2020202020202020726f746174696f6e5f646972656374696f6e3a20ed9a8ceca08420ebb0a9ed96a520282b313a20ebb098ec8b9ceab3842c202d313a20ec8b9ceab384290a2020202020202020737472656e6774683a20ed9a8ceca08420eab095eb8f842028cf89290a202020202222220a20202020706f736974696f6e3a206e702e6e6461727261790a20202020726f746174696f6e5f646972656374696f6e3a20696e74203d2031202023202b313a20ebb098ec8b9ceab3842c202d313a20ec8b9ceab3840a20202020737472656e6774683a20666c6f6174203d20312e3020202320cf892028ed9a8ceca08420ec84b8eab8b0290a0a20202020646566205f5f706f73745f696e69745f5f2873656c66293a0a202020202020202073656c662e706f736974696f6e203d206e702e61727261792873656c662e706f736974696f6e290a202020202020202069662073656c662e726f746174696f6e5f646972656374696f6e206e6f7420696e205b312c202d315d3a0a20202020202020202020202072616973652056616c75654572726f722822726f746174696f6e5f646972656374696f6e206d757374206265202b31206f72202d3122290a0a0a646566206372656174655f6d696e696d616c5f726f746174696f6e616c5f6669656c64280a202020206f6d6567613a20666c6f6174203d20312e302c0a202020206e5f64696d3a20696e74203d20322c0a20202020617869733a206c697374203d205b302c20315d2c0a29202d3e2043616c6c61626c653a0a20202020222222ecb59cec868c20ed9a8ceca08420ec84b1ebb68420e2809420ecbd94eba6acec98aceba6aced989520285068617365204120ec9e90eca0842c20ec9790eb8488eca78020ebb3b4eca1b4290a0a20202020ec8898ec8b9d3a0a20202020202020205228782c207629203d20cf89204a20760a0a20202020ec9790eb8488eca78020ebb3b4eca1b420eca69debaa853a0a202020202020202050203d207620c2b72052203d207620c2b72028cf894a7629203d20cf892876274a7629203d20300a20202020202020204a20ebb098eb8c80ecb9ad20e286922076274a76203d203020ed95adec838120ec84b1eba6bd20e2869220ed9a8ceca084ed95adec9db420ec9dbcec9d8420ed9598eca78020ec958aec9d8c2e0a0a20202020417267733a0a20202020202020206f6d6567613a20ed9a8ceca08420eab081ec868deb8f842028ec9691ec88983debb098ec8b9ceab3842c20ec9d8cec88983dec8b9ceab384290a20202020202020206e5f64696d3a20eab3b5eab08420ecb0a8ec9b900a2020202020202020617869733a20ed9a8ceca08420ed8f89eba9b420ecb6952028eab8b0ebb3b8eab0923a205b302c315d203d207879290a0a2020202052657475726e733a0a20202020202020205228782c207629202d3e206e702e6e646172726179202028ec8b9ceab7b8eb8b88ecb2983a20eb919020ec9db8ec9e902c207620ec82acec9aa9290a202020202222220a202020204a203d206372656174655f736b65775f73796d6d65747269635f6d6174726978286e5f64696d2c20617869733d61786973290a0a20202020646566205228783a206e702e6e6461727261792c20763a206e702e6e64617272617929202d3e206e702e6e6461727261793a0a202020202020202076203d206e702e6173617272617928762c2064747970653d666c6f6174290a20202020202020206966206c656e287629203c20323a0a20202020202020202020202072616973652056616c75654572726f722822526f746174696f6e616c206669656c64207265717569726573206174206c6561737420324420737061636522290a202020202020202072657475726e206f6d656761202a20284a20402076290a0a2020202072657475726e20520a0a0a646566206372656174655f726f746174696f6e616c5f6669656c64280a20202020706f6c653a20506f6c652c0a20202020657073696c6f6e3a20666c6f6174203d2031652d362c0a202020207573655f73696d706c655f666f726d3a20626f6f6c203d20547275650a29202d3e2043616c6c61626c655b5b6e702e6e6461727261795d2c206e702e6e6461727261795d3a0a20202020222222506f6c6520eab8b0ebb09820ed9a8ceca08420ec84b1ebb68420ec839dec84b120ed95a8ec889820286375726c20e289a020302c20ec9790eb8488eca78020ebb984ebb3b4eca1b4290a0a20202020eca3bcec9d983a20ec9db420ed95a8ec8898eb8a9420ec9c84ecb99820ec9d98eca1b420ed9a8ceca0842052287829203d20cf894a28782d706f6c652920ec9d8420ec839dec84b12e0a2020202076c2b75228782920e289a0203020ec9db4ebaf80eba19c20ec9790eb8488eca780eab08020ebb3b4eca1b4eb9098eca78020ec958aec9d8c2e0a20202020ec9790eb8488eca78020ebb3b4eca1b4ec9db420ed9584ec9a94ed9598eba9b4206372656174655f6d696e696d616c5f726f746174696f6e616c5f6669656c642028ecbd94eba6acec98aceba6aced98952920ec82acec9aa92e0a0a20202020417267733a0a2020202020202020706f6c653a20ed9a8ceca08420eca491ec8baceca0902028ed8fb4290a2020202020202020657073696c6f6e3a20ec8898ecb99820ec9588eca095ec84b1ec9d8420ec9c84ed959c20ec9e91ec9d8020eab0920a20202020202020207573655f73696d706c655f666f726d3a2054727565eba9b420eb8ba8ec889c20ed9895ed839c2c2046616c7365eba9b420eab1b0eba6ac20ec9d98eca1b420ed9895ed839c0a0a2020202052657475726e733a0a2020202020202020526f746174696f6e616c206669656c6420ed95a8ec88982052287829202d3e206e702e6e6461727261790a202020202222220a202020206966207573655f73696d706c655f666f726d3a0a2020202020202020646566205228783a206e702e6e64617272617929202d3e206e702e6e6461727261793a0a20202020202020202020202022222252203d20cf89204a202878202d20785f706f6c65292222220a20202020202020202020202078203d206e702e6173617272617928782c2064747970653d666c6f6174290a20202020202020202020202072203d2078202d20706f6c652e706f736974696f6e0a2020202020202020202020206e203d206c656e2872290a2020202020202020202020206966206e203c20323a0a2020202020202020202020202020202072616973652056616c75654572726f722822526f746174696f6e616c206669656c64207265717569726573206174206c6561737420324420737061636522290a2020202020202020202020204a203d206372656174655f736b65775f73796d6d65747269635f6d6174726978286e2c20617869733d5b302c20315d290a20202020202020202020202072657475726e20706f6c652e726f746174696f6e5f646972656374696f6e202a20706f6c652e737472656e677468202a20284a20402072290a202020202020202072657475726e20520a20202020656c73653a0a2020202020202020646566205228783a206e702e6e64617272617929202d3e206e702e6e6461727261793a0a20202020202020202020202022222252203d20cf89205b2d725f792c20725f785d202f20287c7c727c7cc2b2202b20ceb5292222220a20202020202020202020202078203d206e702e6173617272617928782c2064747970653d666c6f6174290a20202020202020202020202072203d2078202d20706f6c652e706f736974696f6e0a2020202020202020202020206966206c656e287229203c20323a0a2020202020202020202020202020202072616973652056616c75654572726f722822526f746174696f6e616c206669656c64207265717569726573206174206c6561737420324420737061636522290a202020202020202020202020725f6e6f726d5f7371203d206e702e646f7428722c207229202b20657073696c6f6e0a2020202020202020202020206966206c656e287229203d3d20323a0a20202020202020202020202020202020525f766563203d206e702e6172726179285b2d725b315d2c20725b305d5d290a202020202020202020202020656c73653a0a20202020202020202020202020202020525f766563203d206e702e7a65726f735f6c696b652872290a20202020202020202020202020202020525f7665635b305d203d202d725b315d0a20202020202020202020202020202020525f7665635b315d203d20725b305d0a20202020202020202020202072657475726e20706f6c652e726f746174696f6e5f646972656374696f6e202a20706f6c652e737472656e677468202a20525f766563202f20725f6e6f726d5f73710a202020202020202072657475726e20520a0a0a646566206372656174655f636f6d62696e65645f6669656c64280a202020206772616469656e745f66756e633a2043616c6c61626c655b5b6e702e6e6461727261795d2c206e702e6e6461727261795d2c0a20202020726f746174696f6e616c5f66756e633a204f7074696f6e616c5b43616c6c61626c655b5b6e702e6e6461727261795d2c206e702e6e6461727261795d5d203d204e6f6e650a29202d3e2043616c6c61626c655b5b6e702e6e6461727261795d2c206e702e6e6461727261795d3a0a202020202222224772616469656e74202b20526f746174696f6e616c20ed95a9ec84b120ed9584eb939c0a0a20202020ec8898ec8b9d3a0a202020202020202067287829203d202de2888745287829202b20522878290a0a20202020417267733a0a20202020202020206772616469656e745f66756e633a204772616469656e74206669656c6420ed95a8ec889820282de2888745290a2020202020202020726f746174696f6e616c5f66756e633a20526f746174696f6e616c206669656c6420ed95a8ec8898202852292c20ec84a0ed839deca0810a0a2020202052657475726e733a0a2020202020202020ed95a9ec84b120ed9584eb939c20ed95a8ec88982067287829202d3e206e702e6e6461727261790a202020202222220a2020202064656620636f6d62696e65645f6669656c6428783a206e702e6e64617272617929202d3e206e702e6e6461727261793a0a20202020202020206772616469656e74203d206772616469656e745f66756e632878290a2020202020202020696620726f746174696f6e616c5f66756e63206973206e6f74204e6f6e653a0a202020202020202020202020726f746174696f6e616c203d20726f746174696f6e616c5f66756e632878290a2020202020202020202020206966206c656e286772616469656e742920213d206c656e28726f746174696f6e616c293a0a2020202020202020202020202020202072616973652056616c75654572726f7228224772616469656e7420616e6420726f746174696f6e616c206669656c6473206d75737420686176652073616d652064696d656e73696f6e22290a20202020202020202020202072657475726e206772616469656e74202b20726f746174696f6e616c0a202020202020202072657475726e206772616469656e740a2020202072657475726e20636f6d62696e65645f6669656c640a0a0a64656620636f6d707574655f6375726c5f3264280a202020206669656c645f66756e633a2043616c6c61626c655b5b6e702e6e6461727261795d2c206e702e6e6461727261795d2c0a20202020783a206e702e6e6461727261792c0a20202020657073696c6f6e3a20666c6f6174203d2031652d360a29202d3e20666c6f61743a0a20202020222222324420ed9584eb939cec9d98206375726c20eab384ec82b00a0a20202020ec8898ec8b9d3a0a20202020202020206375726c203d20e28882465f792fe2888278202d20e28882465f782fe28882790a0a20202020417267733a0a20202020202020206669656c645f66756e633a20ed9584eb939c20ed95a8ec88980a2020202020202020783a20eab384ec82b020ec9c84ecb9980a2020202020202020657073696c6f6e3a20ec8898ecb99820ebafb8ebb684ec9aa920ec9e91ec9d8020eab0920a0a2020202052657475726e733a0a20202020202020206375726c20eab0922028ec8aa4ecb9bceb9dbc2c203244290a202020202222220a2020202078203d206e702e61727261792878290a202020206966206c656e28782920213d20323a0a202020202020202072616973652056616c75654572726f722822636f6d707574655f6375726c5f326420726571756972657320324420737061636522290a0a2020202046203d206669656c645f66756e632878290a0a20202020785f706c7573203d20782e636f707928290a20202020785f706c75735b305d202b3d20657073696c6f6e0a20202020465f706c75735f78203d206669656c645f66756e6328785f706c7573290a202020206446795f6478203d2028465f706c75735f785b315d202d20465b315d29202f20657073696c6f6e0a0a20202020795f706c7573203d20782e636f707928290a20202020795f706c75735b315d202b3d20657073696c6f6e0a20202020465f706c75735f79203d206669656c645f66756e6328795f706c7573290a202020206446785f6479203d2028465f706c75735f795b305d202d20465b305d29202f20657073696c6f6e0a0a202020206375726c203d206446795f6478202d206446785f64790a2020202072657475726e206375726c0a0a0a646566207665726966795f726f746174696f6e616c5f636f6d706f6e656e74280a202020206669656c645f66756e633a2043616c6c61626c655b5b6e702e6e6461727261795d2c206e702e6e6461727261795d2c0a20202020746573745f706f696e74733a206c6973742c0a202020207468726573686f6c643a20666c6f6174203d2031652d330a29202d3e20626f6f6c3a0a20202020222222526f746174696f6e616c20636f6d706f6e656e7420eca1b4ec9eac20ed9995ec9db80a0a202020206375726c20e289a02030ec9db8eca78020ed9995ec9db8ed9598ec97ac20ed9a8ceca08420ec84b1ebb684ec9db420ec9e88eb8a94eca78020eab280eca69d0a0a20202020417267733a0a20202020202020206669656c645f66756e633a20ed9584eb939c20ed95a8ec88980a2020202020202020746573745f706f696e74733a20ed858cec8aa4ed8ab8ed95a020eca090eb93a4ec9d9820eba6acec8aa4ed8ab80a20202020202020207468726573686f6c643a206375726cec9db42030ec9db420ec9584eb8b8c20eab283ec9cbceba19c20ed8c90eb8ba8ed9598eb8a9420ec9e84eab384eab0920a0a2020202052657475726e733a0a2020202020202020ed9a8ceca08420ec84b1ebb684ec9db420ec9e88ec9cbceba9b420547275650a202020202222220a20202020666f7220706f696e7420696e20746573745f706f696e74733a0a20202020202020206375726c203d20636f6d707574655f6375726c5f3264286669656c645f66756e632c20706f696e74290a2020202020202020696620616273286375726c29203e207468726573686f6c643a0a20202020202020202020202072657475726e20547275650a2020202072657475726e2046616c73650a",
      "raw_text": "\"\"\"Rotational Field Generator\n\nPhase A: 위상 생성 (Rotational Field)\n\n회전 성분을 생성하여 순환 운동(자전)을 가능하게 만듭니다.\n\n수식:\n- 최소 형태 (코리올리형, 에너지 보존):\n    R(x, v) = ω J v\n    v · R = v · (ωJv) = ω(v'Jv) = 0  (J 반대칭 → 항상 0 → 에너지 보존)\n\n- Pole 기반 형태 (위치 의존, 에너지 비보존):\n    R(x) = ω J (x - x_pole)\n    v · R(x) ≠ 0 일반적 → 에너지 비보존\n\n- Combined field: a = -∇V(x) + R\n\n왜 R(x)=ωJx가 아닌 R(v)=ωJv 인가:\n    에너지 보존 조건: 힘이 속도에 수직 (v·F=0).\n    R(x)=ωJx → x·R(x)=0 (위치에 직교) 이지만 v·R(x)≠0 (속도에 직교 아님).\n    R(v)=ωJv → v·R(v)=0 (속도에 직교, 항상) → 에너지 보존 보장.\n\nAuthor: GNJz (Qquarts)\nVersion: 0.2.0\n\"\"\"\n\nimport numpy as np\nfrom typing import Callable, Optional, Union\nfrom dataclasses import dataclass\n\n\ndef create_skew_symmetric_matrix(n: int, axis: list = [0, 1]) -> np.ndarray:\n    \"\"\"반대칭(skew-symmetric) 행렬 생성\n\n    수식:\n        J = [0  -1]  (2D)\n            [1   0]\n\n    n차원에서는 지정된 축에 대해 반대칭 행렬 생성\n\n    Args:\n        n: 차원\n        axis: 회전 축 (기본값: [0, 1] = xy 평면)\n\n    Returns:\n        반대칭 행렬 J (n×n)\n    \"\"\"\n    J = np.zeros((n, n))\n    if len(axis) == 2:\n        i, j = axis[0], axis[1]\n        J[i, j] = -1\n        J[j, i] = 1\n    return J\n\n\n@dataclass\nclass Pole:\n    \"\"\"회전의 중심점 (폴)\n\n    Attributes:\n        position: 폴 위치 (회전 중심)\n        rotation_direction: 회전 방향 (+1: 반시계, -1: 시계)\n        strength: 회전 강도 (ω)\n    \"\"\"\n    position: np.ndarray\n    rotation_direction: int = 1  # +1: 반시계, -1: 시계\n    strength: float = 1.0  # ω (회전 세기)\n\n    def __post_init__(self):\n        self.position = np.array(self.position)\n        if self.rotation_direction not in [1, -1]:\n            raise ValueError(\"rotation_direction must be +1 or -1\")\n\n\ndef create_minimal_rotational_field(\n    omega: float = 1.0,\n    n_dim: int = 2,\n    axis: list = [0, 1],\n) -> Callable:\n    \"\"\"최소 회전 성분 — 코리올리형 (Phase A 자전, 에너지 보존)\n\n    수식:\n        R(x, v) = ω J v\n\n    에너지 보존 증명:\n        P = v · R = v · (ωJv) = ω(v'Jv) = 0\n        J 반대칭 → v'Jv = 0 항상 성립 → 회전항이 일을 하지 않음.\n\n    Args:\n        omega: 회전 각속도 (양수=반시계, 음수=시계)\n        n_dim: 공간 차원\n        axis: 회전 평면 축 (기본값: [0,1] = xy)\n\n    Returns:\n        R(x, v) -> np.ndarray  (시그니처: 두 인자, v 사용)\n    \"\"\"\n    J = create_skew_symmetric_matrix(n_dim, axis=axis)\n\n    def R(x: np.ndarray, v: np.ndarray) -> np.ndarray:\n        v = np.asarray(v, dtype=float)\n        if len(v) < 2:\n            raise ValueError(\"Rotational field requires at least 2D space\")\n        return omega * (J @ v)\n\n    return R\n\n\ndef create_rotational_field(\n    pole: Pole,\n    epsilon: float = 1e-6,\n    use_simple_form: bool = True\n) -> Callable[[np.ndarray], np.ndarray]:\n    \"\"\"Pole 기반 회전 성분 생성 함수 (curl ≠ 0, 에너지 비보존)\n\n    주의: 이 함수는 위치 의존 회전 R(x) = ωJ(x-pole) 을 생성.\n    v·R(x) ≠ 0 이므로 에너지가 보존되지 않음.\n    에너지 보존이 필요하면 create_minimal_rotational_field (코리올리형) 사용.\n\n    Args:\n        pole: 회전 중심점 (폴)\n        epsilon: 수치 안정성을 위한 작은 값\n        use_simple_form: True면 단순 형태, False면 거리 의존 형태\n\n    Returns:\n        Rotational field 함수 R(x) -> np.ndarray\n    \"\"\"\n    if use_simple_form:\n        def R(x: np.ndarray) -> np.ndarray:\n            \"\"\"R = ω J (x - x_pole)\"\"\"\n            x = np.asarray(x, dtype=float)\n            r = x - pole.position\n            n = len(r)\n            if n < 2:\n                raise ValueError(\"Rotational field requires at least 2D space\")\n            J = create_skew_symmetric_matrix(n, axis=[0, 1])\n            return pole.rotation_direction * pole.strength * (J @ r)\n        return R\n    else:\n        def R(x: np.ndarray) -> np.ndarray:\n            \"\"\"R = ω [-r_y, r_x] / (||r||² + ε)\"\"\"\n            x = np.asarray(x, dtype=float)\n            r = x - pole.position\n            if len(r) < 2:\n                raise ValueError(\"Rotational field requires at least 2D space\")\n            r_norm_sq = np.dot(r, r) + epsilon\n            if len(r) == 2:\n                R_vec = np.array([-r[1], r[0]])\n            else:\n                R_vec = np.zeros_like(r)\n                R_vec[0] = -r[1]\n                R_vec[1] = r[0]\n            return pole.rotation_direction * pole.strength * R_vec / r_norm_sq\n        return R\n\n\ndef create_combined_field(\n    gradient_func: Callable[[np.ndarray], np.ndarray],\n    rotational_func: Optional[Callable[[np.ndarray], np.ndarray]] = None\n) -> Callable[[np.ndarray], np.ndarray]:\n    \"\"\"Gradient + Rotational 합성 필드\n\n    수식:\n        g(x) = -∇E(x) + R(x)\n\n    Args:\n        gradient_func: Gradient field 함수 (-∇E)\n        rotational_func: Rotational field 함수 (R), 선택적\n\n    Returns:\n        합성 필드 함수 g(x) -> np.ndarray\n    \"\"\"\n    def combined_field(x: np.ndarray) -> np.ndarray:\n        gradient = gradient_func(x)\n        if rotational_func is not None:\n            rotational = rotational_func(x)\n            if len(gradient) != len(rotational):\n                raise ValueError(\"Gradient and rotational fields must have same dimension\")\n            return gradient + rotational\n        return gradient\n    return combined_field\n\n\ndef compute_curl_2d(\n    field_func: Callable[[np.ndarray], np.ndarray],\n    x: np.ndarray,\n    epsilon: float = 1e-6\n) -> float:\n    \"\"\"2D 필드의 curl 계산\n\n    수식:\n        curl = ∂F_y/∂x - ∂F_x/∂y\n\n    Args:\n        field_func: 필드 함수\n        x: 계산 위치\n        epsilon: 수치 미분용 작은 값\n\n    Returns:\n        curl 값 (스칼라, 2D)\n    \"\"\"\n    x = np.array(x)\n    if len(x) != 2:\n        raise ValueError(\"compute_curl_2d requires 2D space\")\n\n    F = field_func(x)\n\n    x_plus = x.copy()\n    x_plus[0] += epsilon\n    F_plus_x = field_func(x_plus)\n    dFy_dx = (F_plus_x[1] - F[1]) / epsilon\n\n    y_plus = x.copy()\n    y_plus[1] += epsilon\n    F_plus_y = field_func(y_plus)\n    dFx_dy = (F_plus_y[0] - F[0]) / epsilon\n\n    curl = dFy_dx - dFx_dy\n    return curl\n\n\ndef verify_rotational_component(\n    field_func: Callable[[np.ndarray], np.ndarray],\n    test_points: list,\n    threshold: float = 1e-3\n) -> bool:\n    \"\"\"Rotational component 존재 확인\n\n    curl ≠ 0인지 확인하여 회전 성분이 있는지 검증\n\n    Args:\n        field_func: 필드 함수\n        test_points: 테스트할 점들의 리스트\n        threshold: curl이 0이 아닌 것으로 판단하는 임계값\n\n    Returns:\n        회전 성분이 있으면 True\n    \"\"\"\n    for point in test_points:\n        curl = compute_curl_2d(field_func, point)\n        if abs(curl) > threshold:\n            return True\n    return False\n"
    },
    "previous_hash": "0",
    "hash": "620a44ffe09d99d9c8ccdc57eca3877a838c0b332c5de6babe1c09cfb2fd1ac7"
  }
]